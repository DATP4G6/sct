class Foo() {
    state Bar {
        enter Baz;
    }
    state Baz {
        enter Baz;
    }
}

function Setup() -> void {
    create Foo::Bar();
    ExitWhenExists(Foo::Baz());
}
